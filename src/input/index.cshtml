Description: => Context.GetString("SiteDescription")
ArchiveSources: => GetString("PostSources")
ArchiveFilter: => GetBool("IsPost")
ArchiveDestination: >
  => GetInt("Index") <= 1 ? $"index.html" : $"page/{GetInt("Index")}.html"
ArchivePageSize: 10
ArchiveOrderKey: Published
ArchiveOrderDescending: true
ArchiveTitle: => GetString("Title")
---
<div class="container-sm-height">
  <div class="row row-sm-height">
    <div class="col-md-6 right-border col-sm-height">
      @Html.Partial("/_posts.cshtml", Document)
    </div>
    <div class="col-md-4 mt-4 mt-md-0 col-sm-height sidebar">
      @{
        IDocument[] tags = Outputs.Get("tags/index.html")?.GetChildren().OrderByDescending(x => x.GetChildren().Count()).Take(10).ToArray() ?? Array.Empty<IDocument>();
        if (tags.Length > 0)
        {
          <div>
            <h5>Tags</h5>
            @foreach (IDocument tag in Outputs.Get("tags/index.html").GetChildren().OrderByDescending(x => x.GetChildren().Count()).Take(10))
            {
              string postCount = tag.GetChildren().Count().ToString();
              <a href="@Context.GetLink(tag)" class="badge text-bg-light"> @tag.GetTitle() (@postCount)</a>
            }
            <div class="mt-3">
              <div class="float-sm-end">
                <a class="btn btn-sm btn-primary" href='@Context.GetLink(Outputs.Get("tags/index.html"))' role="button">All Tags <i class="fas fa-angle-double-right"></i></a>
              </div>
              <div class="clearfix"></div>
            </div>
          </div>
        }
      }

      @Html.Partial("/_sidebar.cshtml")
    </div>
  </div>

  <!-- Cookie Banner -->
  <div x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
    <div>
      <div class="w-full text-lg">
        <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" 
          rel="noreferrer" 
          target="_blank">This website uses Google Analytics, and its cookies.</a>
      </div>
      <button type="button" 
        onclick="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" 
        class="" 
        aria-label="Dismiss">Understood</button>
    </div>
  </div>

</div>
